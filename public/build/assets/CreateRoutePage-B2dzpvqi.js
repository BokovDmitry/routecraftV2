import{r as g,j as e}from"./app-DbAsGzzd.js";import{u as k,c as B,N as C,C as E,R as N,a as y,F as O}from"./Row-DA_OPGjh.js";import{F as r,i as S,a as G,b as $}from"./remove-CSFINB3X.js";/* empty css                 */const A=["as","disabled"];function T(s,o){if(s==null)return{};var n={};for(var l in s)if({}.hasOwnProperty.call(s,l)){if(o.indexOf(l)>=0)continue;n[l]=s[l]}return n}function U(s){return!s||s.trim()==="#"}function D({tagName:s,disabled:o,href:n,target:l,rel:p,role:i,onClick:h,tabIndex:x=0,type:f}){s||(n!=null||l!=null||p!=null?s="a":s="button");const j={tagName:s};if(s==="button")return[{type:f||"button",disabled:o},j];const b=d=>{if((o||s==="a"&&U(n))&&d.preventDefault(),o){d.stopPropagation();return}h==null||h(d)},u=d=>{d.key===" "&&(d.preventDefault(),b(d))};return s==="a"&&(n||(n="#"),o&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:o?void 0:x,href:n,target:s==="a"?l:void 0,"aria-disabled":o||void 0,rel:s==="a"?p:void 0,onClick:b,onKeyDown:u},j]}const H=g.forwardRef((s,o)=>{let{as:n,disabled:l}=s,p=T(s,A);const[i,{tagName:h}]=D(Object.assign({tagName:n,disabled:l},p));return e.jsx(h,Object.assign({},p,i,{ref:o}))});H.displayName="Button";const v=g.forwardRef(({as:s,bsPrefix:o,variant:n="primary",size:l,active:p=!1,disabled:i=!1,className:h,...x},f)=>{const j=k(o,"btn"),[b,{tagName:u}]=D({tagName:s,disabled:i,...x}),d=u;return e.jsx(d,{...b,...x,ref:f,disabled:i,className:B(h,j,p&&"active",n&&`${j}-${n}`,l&&`${j}-${l}`,x.href&&i&&"disabled")})});v.displayName="Button";function K(){const[s,o]=g.useState({title:"",country:"",city:"",description:"",budget:"",days:""}),[n,l]=g.useState([]),[p,i]=g.useState(null),[h,x]=g.useState(!1),[f,j]=g.useState(null),b=t=>{t.target.files&&t.target.files[0]&&j(URL.createObjectURL(t.target.files[0]))},u=t=>{const{name:a,value:c}=t.target;if(o({...s,[a]:c}),a==="days"){const m=parseInt(c,10);!isNaN(m)&&m>0?(l(Array.from({length:m},()=>({places:[""],error:""}))),x(!0)):(l([]),x(!1))}},d=t=>{t.preventDefault(),console.log("Form Data:",s),console.log("Places Per Day:",n)},P=(t,a,c)=>{const m=[...n];m[t].places[a]=c,c.trim()!==""&&(m[t].error=""),l(m)},R=t=>{const a=[...n];a[t].places[a[t].places.length-1].trim()!==""?(a[t].places.push(""),a[t].error=""):a[t].error="Please enter a place before adding another.",l(a)},w=(t,a)=>{const c=[...n];c[t].places.splice(a,1),l(c)},L=t=>{const a=[...n];a.splice(t,1),l(a)},F=()=>{l([...n,{places:[""],error:""}])};return e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx("section",{className:"create-route-section py-5",children:e.jsxs(E,{children:[e.jsx("h2",{className:"text-center mb-4 section-title",children:"Create New Route"}),e.jsxs(r.Group,{className:"mb-4",children:[e.jsx(r.Label,{className:"upload-label",children:"Route Image"}),e.jsxs("div",{className:"custom-file-upload-wrapper",children:[e.jsx("input",{type:"file",accept:"image/*",id:"routeImage",onChange:b,className:"d-none"}),e.jsx("label",{htmlFor:"routeImage",className:"btn btn-upload-custom",children:"Upload Image"})]}),f&&e.jsx("div",{className:"upload-preview mt-3",children:e.jsx("img",{src:f,alt:"Route Preview"})})]}),e.jsxs(r,{onSubmit:d,className:"route-form",children:[e.jsxs(r.Group,{className:"mb-4",children:[e.jsx(r.Label,{children:"Route Title"}),e.jsx(r.Control,{type:"text",name:"title",placeholder:"Enter route title",value:s.title,onChange:u})]}),e.jsxs(N,{className:"mb-4",children:[e.jsx(y,{md:6,children:e.jsxs(r.Group,{children:[e.jsx(r.Label,{children:"Country"}),e.jsx(r.Control,{type:"text",name:"country",placeholder:"Enter country",value:s.country,onChange:u})]})}),e.jsx(y,{md:6,children:e.jsxs(r.Group,{children:[e.jsx(r.Label,{children:"City"}),e.jsx(r.Control,{type:"text",name:"city",placeholder:"Enter city",value:s.city,onChange:u})]})})]}),e.jsxs(r.Group,{className:"mb-4",children:[e.jsx(r.Label,{children:"Description"}),e.jsx(r.Control,{as:"textarea",name:"description",placeholder:"Describe your route",rows:4,value:s.description,onChange:u})]}),e.jsxs(N,{className:"mb-4",children:[e.jsx(y,{md:6,children:e.jsxs(r.Group,{children:[e.jsx(r.Label,{children:"Budget (â‚¬)"}),e.jsx(r.Control,{type:"number",name:"budget",placeholder:"e.g. 500",value:s.budget,onChange:u})]})}),e.jsx(y,{md:6,children:e.jsxs(r.Group,{children:[e.jsx(r.Label,{children:"Number of Days"}),e.jsx(r.Control,{type:"number",name:"days",placeholder:"e.g. 7",value:s.days,onChange:u,readOnly:h})]})})]}),e.jsx("div",{className:`day-cards-wrapper ${n.length>0?"expand":"collapse"}`,children:n.length>0&&e.jsxs("div",{className:"day-cards-container fade-in-smooth",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h4",{className:"mb-0",children:"Daily Plan"}),e.jsx(v,{variant:"dark",size:"sm",onClick:F,children:"Add Day"})]}),e.jsx(N,{children:n.map((t,a)=>e.jsx(y,{md:4,className:"mb-4 fade-in",children:e.jsxs("div",{className:"day-card p-3",children:[e.jsxs("h5",{className:"text-center mb-3",children:["Day ",a+1]}),e.jsxs("div",{className:"places-input-group mb-2",children:[e.jsx(r.Control,{type:"text",placeholder:"e.g. Big Ben",value:t.places[t.places.length-1],onChange:c=>P(a,t.places.length-1,c.target.value)}),e.jsx("button",{className:"add-btn-img",type:"button",onClick:c=>{c.preventDefault(),R(a)},onMouseEnter:()=>i(a),onMouseLeave:()=>i(null),children:e.jsx("img",{src:p===a?S:G,alt:"Add",className:"add-icon"})})]}),e.jsx("div",{className:"error-text",children:t.error||" "}),e.jsx("div",{className:"added-places mt-3",children:t.places.slice(0,-1).map((c,m)=>e.jsxs("div",{className:"place-tag",children:[c,e.jsx("button",{className:"remove-btn-img",onClick:()=>w(a,m),children:e.jsx("img",{src:$,alt:"Remove",className:"remove-icon"})})]},m))}),e.jsx("div",{className:"text-end mt-3",children:e.jsx(v,{variant:"outline-danger",size:"sm",onClick:()=>L(a),children:"Delete Day"})})]})},a))})]})}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(v,{variant:"success",type:"submit",className:"px-5",children:"Save Route"})})]})]})})]})}const M="/build/assets/bg20-AQFX_9hL.jpg";function X(){return e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsxs("div",{className:"my-routes-hero small-hero",style:{backgroundImage:`url(${M})`},children:[e.jsx("div",{className:"my-routes-hero-overlay"}),e.jsxs("div",{className:"hero-content px-3",children:[e.jsx("h1",{className:"hero-title py-2",children:"CREATE YOUR ROUTE"}),e.jsx("p",{className:"hero-description py-1",children:"Add your destination, travel days, and budget to start building your route."})]})]}),e.jsx(K,{}),e.jsx(O,{})]})}export{X as default};
