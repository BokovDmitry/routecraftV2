import{r as c,j as e,A as b}from"./app-BiCOU7zL.js";import{N as A}from"./Navbar-BTtg9IJE.js";import{C as T,R as f,F as I}from"./Row-CJlQkx92.js";import{i as L,a as H,b as O}from"./remove-ICyhTtfO.js";import{r as M}from"./index-8IUisxxi.js";import{R as N}from"./RouteCard-B0lb6YlC.js";/* empty css                      */import{s as $}from"./search-B6jkp3Tl.js";import{F as C}from"./Form-DsetpyLx.js";import"./dubai-1WBGI7KM.js";const q="/build/assets/bg14-zub8Pvtw.jpg";var _=M();function U(){const[n,o]=c.useState([""]),[h,d]=c.useState(""),[x,p]=c.useState(!1),[j,u]=c.useState(""),[t,r]=c.useState(""),[l,g]=c.useState({destination_country:"",destination_city:"",days:"",budget_min:"",budget_max:""}),y=c.useRef(null),v=c.useRef(null),k=()=>{const s=y.current.getPlace();g({...l,destination_country:s.formatted_address})},R=()=>{const s=v.current.getPlace();g({...l,destination_city:s.formatted_address})},m=s=>{const{name:a,value:i}=s.target;g({...l,[a]:i})},S=(s,a)=>{const i=[...n];i[s]=a,o(i),a.trim()!==""&&d("")},E=()=>{n[n.length-1].trim()!==""?(o([...n,""]),d("")):d("Please enter a place before adding another.")},w=s=>{const a=n.filter((i,F)=>F!==s);a.length===0||a[a.length-1].trim()!==""?o([...a,""]):o([...a])},P=()=>{let s=!0;if(l.destination_city.trim()===""?(r("Please enter City."),s=!1):r(""),l.destination_country.trim()===""?(u("Please enter Country."),s=!1):u(""),!s)return;const a={...l,must_see_places:n.slice(0,-1)};_.Inertia.get(route("routes.search"),a,{onError:i=>{console.error(i)}})},D=()=>{_.Inertia.visit(route("routes.search"),{method:"get"})};return e.jsxs("div",{className:"routes-hero",style:{backgroundImage:`url(${q})`},children:[e.jsx("div",{className:"routes-hero-overlay"}),e.jsxs("div",{className:"routes-hero-text",style:{flexGrow:1},children:[e.jsx("h1",{children:"FIND THE PERFECT ROUTE FOR YOUR TRIP"}),e.jsx("p",{children:"Search by destination, number of days, budget, and the must-see places you don’t want to miss."})]}),e.jsxs("div",{className:"routes-form-wrapper",children:[e.jsx("h3",{className:"form-subheading",children:"Plan your route below"}),e.jsxs("div",{className:"input-row",children:[e.jsxs("div",{className:"input-block",children:[e.jsx("label",{children:"Country"}),e.jsx(b,{onLoad:s=>y.current=s,onPlaceChanged:k,children:e.jsx("input",{type:"text",name:"destination_country",placeholder:"Enter country",value:l.destination_country,onChange:m})}),e.jsx("div",{className:"error-text",children:j||" "})]}),e.jsxs("div",{className:"input-block",children:[e.jsx("label",{children:"City"}),e.jsx(b,{onLoad:s=>v.current=s,onPlaceChanged:R,children:e.jsx("input",{type:"text",name:"destination_city",placeholder:"Enter city",value:l.destination_city,onChange:m})}),e.jsx("div",{className:"error-text",children:t||" "})]}),e.jsxs("div",{className:"input-block",children:[e.jsx("label",{children:"Days"}),e.jsx("input",{type:"number",placeholder:"e.g. 5",name:"days",value:l.days,onChange:m})]}),e.jsxs("div",{className:"input-block",children:[e.jsx("label",{children:"Budget (€)"}),e.jsxs("div",{className:"input-block-budget",children:[e.jsx("input",{type:"number",name:"budget_min",placeholder:"Min budget",value:l.budget_min,onChange:m,className:"input-budget"}),e.jsx("input",{type:"number",name:"budget_max",placeholder:"Max budget",value:l.budget_max,onChange:m,className:"input-budget"})]})]}),e.jsxs("div",{className:"input-block",children:[e.jsx("label",{children:"Must-See Places"}),e.jsxs("div",{className:"places-input-group",children:[e.jsx("input",{type:"text",placeholder:"e.g. Eiffel Tower",value:n[n.length-1],onChange:s=>S(n.length-1,s.target.value)}),e.jsx("button",{className:"add-btn-img",onClick:E,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:e.jsx("img",{src:x?L:H,alt:"Add",className:"add-icon"})})]}),e.jsx("div",{className:`error-text ${h?"":"hidden"}`,children:h||" "})]})]}),e.jsxs("div",{className:"places-and-search",children:[e.jsx("div",{className:"added-places",children:n.slice(0,-1).map((s,a)=>e.jsxs("div",{className:"place-tag",children:[s,e.jsx("button",{className:"remove-btn-img",onClick:()=>w(a),title:"Remove",children:e.jsx("img",{src:O,alt:"Remove",className:"remove-icon"})})]},a))}),e.jsxs("div",{className:"search-btn-container",children:[e.jsx("button",{className:"reset-btn",onClick:D,children:"RESET"}),e.jsx("button",{className:"search-btn",onClick:P,children:"SEARCH"})]})]})]})]})}function X({routes:n}){const[o,h]=c.useState(""),[d,x]=c.useState(""),p=t=>h(t.target.value.toLowerCase()),j=t=>x(t.target.value),u=n.filter(t=>t.title.toLowerCase().includes(o)).sort((t,r)=>{switch(d){case"title-asc":return t.title.localeCompare(r.title);case"title-desc":return r.title.localeCompare(t.title);case"date-asc":return new Date(t.created_at)-new Date(r.created_at);case"date-desc":return new Date(r.created_at)-new Date(t.created_at);case"days-asc":return t.days-r.days;case"days-desc":return r.days-t.days;case"likes-asc":return t.likes-r.likes;case"likes-desc":return r.likes-t.likes;default:return 0}});return e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx(U,{}),e.jsxs("section",{className:"popular-section py-5 px-4",children:[e.jsx("h2",{className:"text-center mb-16 section-title",children:"Available Routes"}),e.jsxs(T,{children:[e.jsxs("div",{className:"d-flex flex-wrap justify-content-center align-items-center gap-3 mb-5 routes-controls",children:[e.jsx(C.Control,{type:"text",className:"search-bar",placeholder:"Search routes...",value:o,onChange:p,style:{backgroundImage:`url(${$})`}}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"sort-text",children:"Sort by:"}),e.jsxs(C.Select,{className:"sort-dropdown",value:d,onChange:j,"aria-label":"Sort routes",children:[e.jsx("option",{value:"",children:"Default"}),e.jsx("option",{value:"title-asc",children:"Title (A-Z)"}),e.jsx("option",{value:"title-desc",children:"Title (Z-A)"}),e.jsx("option",{value:"date-asc",children:"Date (Oldest First)"}),e.jsx("option",{value:"date-desc",children:"Date (Newest First)"}),e.jsx("option",{value:"days-asc",children:"Days (Ascending)"}),e.jsx("option",{value:"days-desc",children:"Days (Descending)"}),e.jsx("option",{value:"likes-asc",children:"Likes (Ascending)"}),e.jsx("option",{value:"likes-desc",children:"Likes (Descending)"})]})]})]}),e.jsx(f,{className:"justify-content-center g-3 mb-4",children:u.slice(0,3).map(t=>e.jsx(N,{route:t},t.id))}),e.jsx(f,{className:"justify-content-center g-3",children:u.slice(3).map(t=>e.jsx(N,{route:t},t.id))})]})]}),e.jsx(I,{})]})}export{X as default};
